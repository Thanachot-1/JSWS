{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\JaosubxWoonsen's Schedule\\\\class-schedule-homework-app\\\\src\\\\components\\\\Schedule\\\\Schedule.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { db } from '../../services/firebase';\nimport { collection, onSnapshot, addDoc, deleteDoc, doc } from 'firebase/firestore';\nimport ReactMarkdown from 'react-markdown';\nimport './Schedule.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DAYS = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'];\nconst DAY_LABELS = {\n  Mon: 'จันทร์',\n  Tue: 'อังคาร',\n  Wed: 'พุธ',\n  Thu: 'พฤหัสบดี',\n  Fri: 'ศุกร์'\n};\nconst TIME_SLOTS = ['08:30-09:30', '09:30-10:30', '10:30-11:30', '11:30-12:30', '12:30-13:30', '13:30-14:30', '14:30-15:30', '15:30-16:30', '16:30-17:30'];\nconst Schedule = ({\n  userEmail,\n  isOwner\n}) => {\n  _s();\n  const [entries, setEntries] = useState([]);\n  const [subject, setSubject] = useState('');\n  const [day, setDay] = useState(DAYS[0]);\n  const [time, setTime] = useState('');\n  const [room, setRoom] = useState('');\n  const [notes, setNotes] = useState('');\n  const [selectedEntry, setSelectedEntry] = useState(null);\n  const [showPopup, setShowPopup] = useState(false);\n\n  // สำหรับ homework ของแต่ละ entry\n  const [homeworks, setHomeworks] = useState([]);\n  const [hwTitle, setHwTitle] = useState('');\n  const [hwDesc, setHwDesc] = useState('');\n  const [hwAssigned, setHwAssigned] = useState('');\n  const [hwDeadline, setHwDeadline] = useState('');\n  const [editingNote, setEditingNote] = useState('');\n  const [editingHwId, setEditingHwId] = useState(null);\n  useEffect(() => {\n    const colRef = collection(db, 'schedules', userEmail, 'entries');\n    const unsubscribe = onSnapshot(colRef, snapshot => {\n      const data = [];\n      snapshot.forEach(docSnap => {\n        data.push({\n          id: docSnap.id,\n          ...docSnap.data()\n        });\n      });\n      setEntries(data);\n    });\n    return () => unsubscribe();\n  }, [userEmail]);\n  const addEntry = async () => {\n    if (subject && day && time && room) {\n      const colRef = collection(db, 'schedules', userEmail, 'entries');\n      await addDoc(colRef, {\n        subject,\n        day,\n        time,\n        room,\n        notes\n      });\n      setSubject('');\n      setTime('');\n      setRoom('');\n      setNotes('');\n    }\n  };\n  const deleteEntry = async id => {\n    const docRef = doc(db, 'schedules', userEmail, 'entries', id);\n    await deleteDoc(docRef);\n  };\n  const toMinutes = t => {\n    const [h, m] = t.split(':').map(Number);\n    return h * 60 + m;\n  };\n  function isTimeOverlap(slot, time) {\n    const [slotStart, slotEnd] = slot.split('-');\n    const [timeStart, timeEnd] = time.split('-');\n    return !(toMinutes(slotEnd) <= toMinutes(timeStart) || toMinutes(slotStart) >= toMinutes(timeEnd));\n  }\n\n  // \"cell แรก\" = slot ที่ slotStart อยู่ในช่วงเวลาเรียน และไม่มี slot ก่อนหน้าที่ซ้อนกับ entry นี้\n  function isFirstOverlapSlot(slotIdx, entry, timeSlots) {\n    if (!isTimeOverlap(timeSlots[slotIdx], entry.time)) return false;\n    if (slotIdx === 0) return true;\n    // ถ้า slot ก่อนหน้าไม่ overlap กับ entry นี้ แปลว่า cell นี้คือ cell แรก\n    return !isTimeOverlap(timeSlots[slotIdx - 1], entry.time);\n  }\n\n  // สุ่มสีพื้นหลังแต่ละวิชา (หรือจะ fix สีเองก็ได้)\n  function getColor(subject) {\n    const colors = [\"#e3f2fd\", \"#fce4ec\", \"#e8f5e9\", \"#fff3e0\", \"#f3e5f5\", \"#f9fbe7\", \"#ede7f6\"];\n    let hash = 0;\n    for (let i = 0; i < subject.length; i++) hash += subject.charCodeAt(i);\n    return colors[hash % colors.length];\n  }\n\n  // โหลด homework เมื่อเลือก entry\n  useEffect(() => {\n    if (!selectedEntry) return;\n    const colRef = collection(db, \"schedules\", userEmail, \"entries\", selectedEntry.id, \"homework\");\n    const unsub = onSnapshot(colRef, snap => {\n      const arr = [];\n      snap.forEach(doc => arr.push({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setHomeworks(arr);\n    });\n    setEditingNote(selectedEntry.notes || '');\n    return () => unsub();\n  }, [selectedEntry, userEmail]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"schedule-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Class Schedule\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), isOwner && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"schedule-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Subject\",\n        value: subject,\n        onChange: e => setSubject(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: day,\n        onChange: e => setDay(e.target.value),\n        children: DAYS.map(d => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: d,\n          children: DAY_LABELS[d]\n        }, d, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 28\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Time (e.g. 10:30-12:30)\",\n        value: time,\n        onChange: e => setTime(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Room (e.g. SC2109)\",\n        value: room,\n        onChange: e => setRoom(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E2B\\u0E15\\u0E38 (Notes, Markdown \\u0E44\\u0E14\\u0E49)\",\n        value: notes,\n        onChange: e => setNotes(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addEntry,\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"schedule-grid-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"schedule-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0E27\\u0E31\\u0E19/\\u0E40\\u0E27\\u0E25\\u0E32\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this), TIME_SLOTS.map(slot => /*#__PURE__*/_jsxDEV(\"th\", {\n              children: slot\n            }, slot, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: DAYS.map(day => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"time-col\",\n              children: DAY_LABELS[day]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this), TIME_SLOTS.map((slot, slotIdx) => {\n              // หา entry ที่ซ้อนกับช่วงเวลานี้\n              const entry = entries.find(e => e.day === day && isTimeOverlap(slot, e.time));\n              if (!entry) return /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"cell\"\n              }, day + slot, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 38\n              }, this);\n              const bgColor = getColor(entry.subject);\n              if (isFirstOverlapSlot(slotIdx, entry, TIME_SLOTS)) {\n                // cell แรกของช่วงเวลา\n                return /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"cell\",\n                  style: {\n                    background: bgColor,\n                    borderLeft: \"4px solid #1976d2\",\n                    opacity: 1\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"cell-content\",\n                    style: {\n                      alignItems: \"flex-start\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          fontWeight: \"bold\",\n                          fontSize: 12,\n                          marginBottom: 1\n                        },\n                        children: /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n                          children: entry.subject\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 202,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 201,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          fontSize: 11,\n                          color: '#888',\n                          marginBottom: 1\n                        },\n                        children: /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n                          children: entry.room\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 205,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 204,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          fontSize: 11,\n                          color: '#555',\n                          marginBottom: 1\n                        },\n                        children: entry.time\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 207,\n                        columnNumber: 29\n                      }, this), entry.notes && /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          fontSize: 11,\n                          color: '#444',\n                          marginTop: 1\n                        },\n                        children: /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n                          children: entry.notes\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 210,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 209,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 200,\n                      columnNumber: 27\n                    }, this), isOwner && /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"delete-btn\",\n                      style: {\n                        marginTop: 6\n                      },\n                      onClick: () => deleteEntry(entry.id),\n                      children: \"\\u0E25\\u0E1A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 215,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 25\n                  }, this)\n                }, day + slot, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 23\n                }, this);\n              } else {\n                // cell ถัดไปในช่วงเวลา\n                return /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"cell\",\n                  style: {\n                    background: bgColor,\n                    opacity: 0.85\n                  }\n                }, day + slot, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 23\n                }, this);\n              }\n            })]\n          }, day, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n};\n_s(Schedule, \"fLrxsZfFvzfApxayg83Ah3yuVoM=\");\n_c = Schedule;\nexport default Schedule;\nvar _c;\n$RefreshReg$(_c, \"Schedule\");","map":{"version":3,"names":["React","useEffect","useState","db","collection","onSnapshot","addDoc","deleteDoc","doc","ReactMarkdown","jsxDEV","_jsxDEV","DAYS","DAY_LABELS","Mon","Tue","Wed","Thu","Fri","TIME_SLOTS","Schedule","userEmail","isOwner","_s","entries","setEntries","subject","setSubject","day","setDay","time","setTime","room","setRoom","notes","setNotes","selectedEntry","setSelectedEntry","showPopup","setShowPopup","homeworks","setHomeworks","hwTitle","setHwTitle","hwDesc","setHwDesc","hwAssigned","setHwAssigned","hwDeadline","setHwDeadline","editingNote","setEditingNote","editingHwId","setEditingHwId","colRef","unsubscribe","snapshot","data","forEach","docSnap","push","id","addEntry","deleteEntry","docRef","toMinutes","t","h","m","split","map","Number","isTimeOverlap","slot","slotStart","slotEnd","timeStart","timeEnd","isFirstOverlapSlot","slotIdx","entry","timeSlots","getColor","colors","hash","i","length","charCodeAt","unsub","snap","arr","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","d","onClick","find","bgColor","style","background","borderLeft","opacity","alignItems","fontWeight","fontSize","marginBottom","color","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/JaosubxWoonsen's Schedule/class-schedule-homework-app/src/components/Schedule/Schedule.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { db } from '../../services/firebase';\nimport { collection, onSnapshot, addDoc, deleteDoc, doc } from 'firebase/firestore';\nimport ReactMarkdown from 'react-markdown';\nimport './Schedule.css';\n\ninterface ScheduleEntry {\n  id: string;\n  subject: string;\n  day: string;\n  time: string;\n  room: string;\n  notes?: string;\n}\n\ninterface Homework {\n  id: string;\n  title: string;\n  description: string;\n  assignedDate: string;\n  deadline: string;\n}\n\nconst DAYS = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'];\nconst DAY_LABELS: Record<string, string> = {\n  Mon: 'จันทร์',\n  Tue: 'อังคาร',\n  Wed: 'พุธ',\n  Thu: 'พฤหัสบดี',\n  Fri: 'ศุกร์',\n};\n\nconst TIME_SLOTS = [\n  '08:30-09:30',\n  '09:30-10:30',\n  '10:30-11:30',\n  '11:30-12:30',\n  '12:30-13:30',\n  '13:30-14:30',\n  '14:30-15:30',\n  '15:30-16:30',\n  '16:30-17:30',\n];\n\nconst Schedule: React.FC<{ userEmail: string; isOwner: boolean }> = ({ userEmail, isOwner }) => {\n  const [entries, setEntries] = useState<ScheduleEntry[]>([]);\n  const [subject, setSubject] = useState('');\n  const [day, setDay] = useState(DAYS[0]);\n  const [time, setTime] = useState('');\n  const [room, setRoom] = useState('');\n  const [notes, setNotes] = useState('');\n  const [selectedEntry, setSelectedEntry] = useState<ScheduleEntry | null>(null);\n  const [showPopup, setShowPopup] = useState(false);\n\n  // สำหรับ homework ของแต่ละ entry\n  const [homeworks, setHomeworks] = useState<Homework[]>([]);\n  const [hwTitle, setHwTitle] = useState('');\n  const [hwDesc, setHwDesc] = useState('');\n  const [hwAssigned, setHwAssigned] = useState('');\n  const [hwDeadline, setHwDeadline] = useState('');\n  const [editingNote, setEditingNote] = useState('');\n  const [editingHwId, setEditingHwId] = useState<string | null>(null);\n\n  useEffect(() => {\n    const colRef = collection(db, 'schedules', userEmail, 'entries');\n    const unsubscribe = onSnapshot(colRef, (snapshot) => {\n      const data: ScheduleEntry[] = [];\n      snapshot.forEach(docSnap => {\n        data.push({ id: docSnap.id, ...docSnap.data() } as ScheduleEntry);\n      });\n      setEntries(data);\n    });\n    return () => unsubscribe();\n  }, [userEmail]);\n\n  const addEntry = async () => {\n    if (subject && day && time && room) {\n      const colRef = collection(db, 'schedules', userEmail, 'entries');\n      await addDoc(colRef, { subject, day, time, room, notes });\n      setSubject('');\n      setTime('');\n      setRoom('');\n      setNotes('');\n    }\n  };\n\n  const deleteEntry = async (id: string) => {\n    const docRef = doc(db, 'schedules', userEmail, 'entries', id);\n    await deleteDoc(docRef);\n  };\n\n  const toMinutes = (t: string) => {\n    const [h, m] = t.split(':').map(Number);\n    return h * 60 + m;\n  };\n\n  function isTimeOverlap(slot: string, time: string) {\n    const [slotStart, slotEnd] = slot.split('-');\n    const [timeStart, timeEnd] = time.split('-');\n    return !(toMinutes(slotEnd) <= toMinutes(timeStart) || toMinutes(slotStart) >= toMinutes(timeEnd));\n  }\n\n  // \"cell แรก\" = slot ที่ slotStart อยู่ในช่วงเวลาเรียน และไม่มี slot ก่อนหน้าที่ซ้อนกับ entry นี้\n  function isFirstOverlapSlot(slotIdx: number, entry: ScheduleEntry, timeSlots: string[]) {\n    if (!isTimeOverlap(timeSlots[slotIdx], entry.time)) return false;\n    if (slotIdx === 0) return true;\n    // ถ้า slot ก่อนหน้าไม่ overlap กับ entry นี้ แปลว่า cell นี้คือ cell แรก\n    return !isTimeOverlap(timeSlots[slotIdx - 1], entry.time);\n  }\n\n  // สุ่มสีพื้นหลังแต่ละวิชา (หรือจะ fix สีเองก็ได้)\n  function getColor(subject: string) {\n    const colors = [\n      \"#e3f2fd\", \"#fce4ec\", \"#e8f5e9\", \"#fff3e0\", \"#f3e5f5\", \"#f9fbe7\", \"#ede7f6\"\n    ];\n    let hash = 0;\n    for (let i = 0; i < subject.length; i++) hash += subject.charCodeAt(i);\n    return colors[hash % colors.length];\n  }\n\n  // โหลด homework เมื่อเลือก entry\n  useEffect(() => {\n    if (!selectedEntry) return;\n    const colRef = collection(db, \"schedules\", userEmail, \"entries\", selectedEntry.id, \"homework\");\n    const unsub = onSnapshot(colRef, snap => {\n      const arr: Homework[] = [];\n      snap.forEach(doc => arr.push({ id: doc.id, ...doc.data() } as Homework));\n      setHomeworks(arr);\n    });\n    setEditingNote(selectedEntry.notes || '');\n    return () => unsub();\n  }, [selectedEntry, userEmail]);\n\n  return (\n    <div className=\"schedule-container\">\n      <h2>Class Schedule</h2>\n      {isOwner && (\n        <div className=\"schedule-form\">\n          <input\n            placeholder=\"Subject\"\n            value={subject}\n            onChange={e => setSubject(e.target.value)}\n          />\n          <select value={day} onChange={e => setDay(e.target.value)}>\n            {DAYS.map(d => <option key={d} value={d}>{DAY_LABELS[d]}</option>)}\n          </select>\n          <input\n            placeholder=\"Time (e.g. 10:30-12:30)\"\n            value={time}\n            onChange={e => setTime(e.target.value)}\n          />\n          <input\n            placeholder=\"Room (e.g. SC2109)\"\n            value={room}\n            onChange={e => setRoom(e.target.value)}\n          />\n          <input\n            placeholder=\"หมายเหตุ (Notes, Markdown ได้)\"\n            value={notes}\n            onChange={e => setNotes(e.target.value)}\n          />\n          <button onClick={addEntry}>Add</button>\n        </div>\n      )}\n      <div className=\"schedule-grid-wrapper\">\n        <table className=\"schedule-grid\">\n          <thead>\n            <tr>\n              <th>วัน/เวลา</th>\n              {TIME_SLOTS.map(slot => (\n                <th key={slot}>{slot}</th>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {DAYS.map(day => (\n              <tr key={day}>\n                <td className=\"time-col\">{DAY_LABELS[day]}</td>\n                {TIME_SLOTS.map((slot, slotIdx) => {\n                  // หา entry ที่ซ้อนกับช่วงเวลานี้\n                  const entry = entries.find(\n                    e => e.day === day && isTimeOverlap(slot, e.time)\n                  );\n                  if (!entry) return <td key={day + slot} className=\"cell\"></td>;\n                  const bgColor = getColor(entry.subject);\n\n                  if (isFirstOverlapSlot(slotIdx, entry, TIME_SLOTS)) {\n                    // cell แรกของช่วงเวลา\n                    return (\n                      <td\n                        key={day + slot}\n                        className=\"cell\"\n                        style={{\n                          background: bgColor,\n                          borderLeft: \"4px solid #1976d2\",\n                          opacity: 1\n                        }}\n                      >\n                        <div className=\"cell-content\" style={{ alignItems: \"flex-start\" }}>\n                          <div>\n                            <div style={{ fontWeight: \"bold\", fontSize: 12, marginBottom: 1 }}>\n                              <ReactMarkdown>{entry.subject}</ReactMarkdown>\n                            </div>\n                            <div style={{ fontSize: 11, color: '#888', marginBottom: 1 }}>\n                              <ReactMarkdown>{entry.room}</ReactMarkdown>\n                            </div>\n                            <div style={{ fontSize: 11, color: '#555', marginBottom: 1 }}>{entry.time}</div>\n                            {entry.notes && (\n                              <div style={{ fontSize: 11, color: '#444', marginTop: 1 }}>\n                                <ReactMarkdown>{entry.notes}</ReactMarkdown>\n                              </div>\n                            )}\n                          </div>\n                          {isOwner && (\n                            <button className=\"delete-btn\" style={{ marginTop: 6 }} onClick={() => deleteEntry(entry.id)}>ลบ</button>\n                          )}\n                        </div>\n                      </td>\n                    );\n                  } else {\n                    // cell ถัดไปในช่วงเวลา\n                    return (\n                      <td\n                        key={day + slot}\n                        className=\"cell\"\n                        style={{\n                          background: bgColor,\n                          opacity: 0.85\n                        }}\n                      ></td>\n                    );\n                  }\n                })}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\nexport default Schedule;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}